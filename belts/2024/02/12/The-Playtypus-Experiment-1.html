<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>The Playtypus Experiment #1 - PlaytypusGames</title>
<meta name="description" content="A story about Conveyors - Part 1">


  <meta name="author" content="Touhma">
  
  <meta property="article:author" content="Touhma">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="PlaytypusGames">
<meta property="og:title" content="The Playtypus Experiment #1">
<meta property="og:url" content="playtypusgames.github.io/belts/2024/02/12/The-Playtypus-Experiment-1.html">


  <meta property="og:description" content="A story about Conveyors - Part 1">







  <meta property="article:published_time" content="2024-02-12T17:00:00-05:00">






<link rel="canonical" href="playtypusgames.github.io/belts/2024/02/12/The-Playtypus-Experiment-1.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "playtypusgames.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="PlaytypusGames Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="https://playtypusgames.github.io/assets/Images/Playtypus-Temporary-Transparency.png" alt="PlaytypusGames"></a>
        
        <a class="site-title" href="/">
          PlaytypusGames
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="https://avatars.githubusercontent.com/u/8696405?v=4" alt="Touhma" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Touhma</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Unity Developer - Playtypus Games</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Montreal, QC, Canada</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/Touhma" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="The Playtypus Experiment #1">
    <meta itemprop="description" content="A story about Conveyors - Part 1">
    <meta itemprop="datePublished" content="2024-02-12T17:00:00-05:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">The Playtypus Experiment #1
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h1 id="a-story-about-conveyors---part-1">A story about Conveyors - Part 1</h1>

<h2 id="the-beginning">The Beginning</h2>

<p>Here is the thing … I love conveyor belts in a games as much as I love automation Games in general. So it was only natural for me to build a game that is an automation game.
I want to learn in the process as much as possible, reproduce what worked, improve what did not or what , as a player was bothering me.
I spent countless hours in games like <a href="https://www.factorio.com/">Factorio</a>, <a href="https://www.satisfactorygame.com/">Satisfactory</a>, <a href="https://store.steampowered.com/app/1366540/Dyson_Sphere_Program/">Dyson Sphere Program</a>. More recently I even play the rought  diamond that is <a href="https://techtonicagame.com/">Techtonica</a> !</p>

<p>In all these game you have by a way or another conveyor belts serving as the main gameplay element. It’s like hypnosis and satisfaction boost when you are looking at your factory and that it work. ( Either that or it trigger your OCD and you restart the game 5 times to get it just right … )
They come in different Shapes , Forms, have multiples gameplay mechanics around it &amp; it’s always fun to see what Developers come up with when it’s coming to a piece so central to a game.</p>

<p>The main function of a belt is to transport an object from point A to point B. This is the core.</p>

<p>Seems simple, right ? I was thinking that and oh boy I was wrong …</p>

<h3 id="1---the-case-of-a-codemonkey">1 - The case of a CodeMonkey</h3>

<p>When I started researching on the topic I ended up on a video from <a href="https://www.youtube.com/watch?v=88cIVR4KI_Q">CodeMonkey</a> .</p>

<p>( If you still don’t know him, please check him out he is a great code explainer and I definitely learned a LOT from his videos )</p>

<p>Here is how it looks like at the end of the video :
<img src="https://imgur.com/zLtdyo2.png" alt="" /></p>

<p>It looks good, works and do the job. And sometimes it’s all we ask.
It constantly checks the spaces on the next belts and then move the item from A to B.</p>

<video width="100%" autoplay="autoplay" loop="true" muted="">
  <source src="https://i.imgur.com/WbwPNDm.mp4" type="video/mp4" />
</video>

<p>Each belt is occupying one tile and is regular allowing for a convenient way to place the belt, a model that is repeated and easily customisable.</p>

<h3 id="2---the-factory-must-grow">2 - The factory Must Grow</h3>

<p>Here is the thing either you are in 2D or in 3D , if you can get a regular grid it’s easy once you figure out how to move the items from a belt to an another.
The belt is the size of a tile in a squared grid, Exactly like in Factorio ( 2D , A tile ) &amp; Techtonica ( 3D , A cube )</p>

<p><img src="https://i.imgur.com/NvTYu01.png" alt="" /></p>

<p>source : <a href="https://www.factorio.com/blog/post/fff-269">FFF-269</a></p>

<blockquote>
  <p>Do they have to plan ahead for all combinations possibles ?</p>
</blockquote>

<p>Huuuuh kinda, You can optimise and rotate the sprites, but you still have to make the sprites &amp; animate them &amp; all  :</p>

<p><img src="https://i.imgur.com/e1uA3eZ.png" alt="" /></p>

<p>source : <a href="https://www.factorio.com/blog/post/fff-269">FFF-269</a></p>

<p>But this is it for the similarities. They spend a LOT of time optimising that part of the game.</p>

<blockquote>
  <p>Isn’t that a bit overkill ?</p>
</blockquote>

<p>In any factory builder with belts, it’s the main building you are gonna make. so you can end up with thousands of them.
If the code behind is slow it can become your main bottleneck &amp; steal some precious fps from your dear players.</p>

<p><img src="https://i.imgur.com/NVlG9As.gifv" alt="" /></p>

<blockquote>
  <p>Yeah so in the end they do like the Codemonkey prototype approach to move the items ?</p>
</blockquote>

<p>Welp … while it’s a tile approach for the visual… In Reality to move the items they split the belts paths into Segments.</p>

<p><img src="https://imgur.com/2plFELR.png" alt="" /></p>

<p>source : <a href="https://www.factorio.com/blog/post/fff-176">FFF-176</a></p>

<p>Then they save the distance value between each item and move the items accordingly. It results in a way more scalable &amp; optimized way of doing that.</p>

<p>Another core difference is that 1 belt can carry 2 lines of items &amp; it’s part of their design so 1 belt = in reality 2 lines so it’s even more important to optimize here.
As far as i know they are the only one to do it this way and that’s their identity point ! ( at least , one of them ) and some game mechanics are built around that simple key fact.</p>

<p>Now that’s good and all but these two have a very regular grid to work with.
What happen when you don’t have a perfectly squared grid ?</p>

<h3 id="3---its-not-fair-i-need-to-sleep">3 - It’s not fair I need to sleep</h3>

<p>You get Dyson Sphere Program .
The game is happening , instead of a flat surface, on the surface of a sphere. Making a game usable grid on a sphere is … HARD, I read a LOT of papers on the topic and it’s complex.
So they did not bother trying to do it.
Instead, they use a special grid type that I’ll present to you in another blog post later.</p>

<p><img src="https://i.imgur.com/AOt7vsH.png" alt="" /></p>

<p>But even then they managed to have belts working :</p>

<p><img src="https://i.imgur.com/V1ByAUw.png" alt="" /></p>

<blockquote>
  <p>Alright, what’s the catch ?</p>
</blockquote>

<p>First, they don’t follow the previous rule of 1 belt per grid square. When you look closely you can see they get the point between the lines of the grid, not at the middle of the square.</p>

<video width="100%" autoplay="autoplay" loop="true" muted="">
  <source src="https://i.imgur.com/slugQGM.mp4" type="video/mp4" />
</video>

<blockquote>
  <p>Another DevLog I suppose ?</p>
</blockquote>

<p>Yup, and that is not as straightforward as it sound :D but it works.</p>

<p>Lucky for me, having created &amp; worked on the <a href="https://dsp.thunderstore.io/package/Galactic_Scale/GalacticScale/">GalacticScale Mod</a> for the game I digged into their code base for, and I’m familiar with how they did it …</p>

<p>As you can see in the video : each belt have small segments you can modify the segments, delete each belt individually.</p>

<p>In the background, like Factorio &amp; Satisfactoy ( foreshadowing ) they have a way to create some sort of dynamic graph that contain all the segments of the factory to move the items along the lines.</p>

<blockquote>
  <p>But how do they PLACE the conveyors ?
The grid look a bit messy, did they made models for each differences in alignment &amp; curvature of the sphere ?</p>
</blockquote>

<p>Welp I’m glad you asked !</p>

<blockquote>
  <p>Give me a break …</p>
</blockquote>

<p>I refuse ! Soooooo …
First of all , have look :</p>

<video width="100%" autoplay="autoplay" loop="true" muted="">
  <source src="https://i.imgur.com/KEgzAgj.mp4" type="video/mp4" />
</video>

<p>See the differences ?</p>

<blockquote>
  <p>Very clear indeed …</p>
</blockquote>

<p>As said previously the first difference is that the build point is on the intersection of the lines.
Not in the cell.
This allows the devs to do something in between these points &amp; to bend the line created in between these points. They create a path for all the line crossing they encounter ( That will be a topic for another dedicated DevLog )</p>

<h3 id="4---the-green-yellow-line">4 - The <del>Green</del> Yellow Line</h3>

<p>It turns out that to make conveyor belt that bend ( lol ) to you will you need a little mathematical something ! The secret sauce turns out to be something called a <a href="[Bézier curve - Wikipedia](https://en.wikipedia.org/wiki/B%C3%A9zier_curve)">bezier curve</a> between each points.</p>

<blockquote>
  <p>A what ?</p>
</blockquote>

<p>A Bezier is basically the representation of a line, not necessarily straight but could be. Imagine train tracks, you have the start , the end , and the path is not always a straight line.</p>

<blockquote>
  <p>Alright …</p>
</blockquote>

<p>You can represent any kind of shapes you want for your conveyors with Bezier Curves.
Once they have this, they can generate the mesh along the “spline” relatively easily.</p>

<p>And one of the advantage of a spline is that it’s easy to evaluate where an item is on it. So what’s happening is that the code do the same as for factorio : the items on the belt follow the spline &amp; some dedicated code take care of handling the transfert of items between the belts segments when different but connected.</p>

<p>Here is a nice tool to play with a Bezier and see how it works : <a href="[Bezier (acegikmo.com)](https://acegikmo.com/bezier/)">Bezier</a></p>

<blockquote>
  <p>Still don’t know what a Spline is … You are Confusing …</p>
</blockquote>

<p>While a Bezier Curve is a representation of … a curve, ( yeah I know … ), a Spline is basically a group of these curves with some control points.
Just as a note you don’t have to do a Bezier to represent a line, but it’s the most commonly used.</p>

<blockquote>
  <p>Why ?</p>
</blockquote>

<p>Because.</p>

<blockquote>
  <p>Thank you …</p>
</blockquote>

<p>You are Welcome !  , nah I mean it’s really a “simple” way of representing any kind of path, and except if you are certain that your game will ever only have straight lines, you want to represent theses curves.</p>

<p>Here is a representation in DSP :</p>

<p><img src="https://i.imgur.com/UZ5vNdj.png" alt="" /></p>

<p>cf : Look at the yellow interval.</p>

<p>A spline is Basically a list of Bezier Curves ( cf : orange line ) so it’s the curve between A &amp; B - B &amp; C - C &amp; D etc …</p>

<p>Once the spline is calculated the game save that, generate the meshes ( one for each Beziers curves ) along the spline &amp; then forget about it.</p>

<blockquote>
  <p>Wow, Slow Down …</p>
</blockquote>

<p>Future DevLog !</p>

<blockquote>
  <p>Okey !</p>
</blockquote>

<h3 id="5---thanks-jace-snutt--help-a-lot-">5 - Thanks <del>Jace</del> Snutt ! Help a Lot !</h3>

<p>And where is all of that bringing us to ? Welp, to the last contender of this list : Satisfactory</p>

<video width="100%" autoplay="autoplay" loop="true" muted="muted">
  <source src="https://i.imgur.com/V22vdgX.mp4" type="video/mp4" />
</video>

<blockquote>
  <p>What am I supposed to see ?</p>
</blockquote>

<p>No grids at all , Just two point gracefully joining to create a belt out of thin air.</p>

<p>When you compare it with DSP another key difference is that when you place a belt it’s a segment that you are placing. You can’t divide ( well , yes but not the same way ) it by removing a piece of it without removing the entire belt.</p>

<p>Gosh I love this game. Play it if you have not !</p>

<blockquote>
  <p>Sure Seeing the time it’s going to take for your game anyway …</p>
</blockquote>

<p>Anyway !</p>

<p>This is the different belts type that i’m aware of that are out there in games you can play today.</p>

<p>We have :</p>
<ul>
  <li>The sprite Belt that transport item From itself to it’s neighbor</li>
  <li>The sprite Belt that do that with a segment</li>
  <li>The Spline Belt that split up the belt in smaller segments</li>
  <li>The spline belt that consider a belt as a huge segments</li>
</ul>

<p>Each type have pros &amp; cons &amp; different gameplay possibilities.</p>

<p>In the next DevLog, we are going to keep digging in that topic, and I’m about to reveal the solution will be used in the game we chose for the prototype of the game.</p>

<p>Until then, you can join <a href="https://discord.gg/sXrYTmXekC">Our Brand new Discord</a> to learn more about the project :</p>

<p>Take care and keep building belts !</p>

<p>Touhma</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2024-02-12T17:00:00-05:00">February 12, 2024</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/announcements/2024/02/12/The-Playtypus-Experiment-0.html" class="pagination--pager" title="The Playtypus Experiment #0
">Previous</a>
    
    
      <a href="/belts/2024/02/19/The-Playtypus-Experiment-2.html" class="pagination--pager" title="The Playtypus Experiment TPE2
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 PlaytypusGames. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
